{"ast":null,"code":"var _jsxFileName = \"/Users/jeanchu/Documents/Aspace_web/aspace-app/src/components/postReservation_component.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport PropertyService from \"../services/property.service\";\nimport { useLocation } from 'react-router-dom';\nimport { useNavigate } from \"react-router-dom\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostReservationComponent = props => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const propertyId = state.id;\n  let {\n    currentUser,\n    setCurrentUser\n  } = props;\n  const [startDate, setStartDate] = useState(new Date());\n  let [date, setDate] = useState(\"\");\n  let [guestNumber, setGuestNumber] = useState(\"\");\n  let [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleChangeGuestNumber = e => {\n    setGuestNumber(e.target.value);\n  };\n  const postReservation = e => {\n    PropertyService.addReservation(propertyId, currentUser.user._id, startDate, guestNumber).then(() => {\n      window.alert(\"New reservation has been created.\");\n      navigate(\"/reservation\");\n    }).catch(error => {\n      console.log(error.response);\n      setMessage(error.response.data);\n      window.alert(message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-group\",\n    children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n      selected: startDate,\n      onChange: date => setStartDate(date)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"guestNumber\",\n      type: \"text\",\n      className: \"form-control\",\n      id: \"guestNumber\",\n      onChange: handleChangeGuestNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: postReservation,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(PostReservationComponent, \"YbV79Cr4P7QDIKj9xmq5dHWzaiY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = PostReservationComponent;\nexport default PostReservationComponent;\nvar _c;\n$RefreshReg$(_c, \"PostReservationComponent\");","map":{"version":3,"names":["React","useState","DatePicker","PropertyService","useLocation","useNavigate","PostReservationComponent","props","state","propertyId","id","currentUser","setCurrentUser","startDate","setStartDate","Date","date","setDate","guestNumber","setGuestNumber","message","setMessage","navigate","handleChangeGuestNumber","e","target","value","postReservation","addReservation","user","_id","then","window","alert","catch","error","console","log","response","data"],"sources":["/Users/jeanchu/Documents/Aspace_web/aspace-app/src/components/postReservation_component.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport PropertyService from \"../services/property.service\";\nimport { useLocation } from 'react-router-dom';\nimport { useNavigate } from \"react-router-dom\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst PostReservationComponent = (props) => {\n    const {state} = useLocation();\n    const propertyId = state.id;\n    let { currentUser, setCurrentUser } = props;\n    const [startDate, setStartDate] = useState(new Date());\n\n    let [date, setDate] = useState(\"\");\n    let [guestNumber, setGuestNumber] = useState(\"\");\n    let [message, setMessage] = useState(\"\");\n\n    const navigate = useNavigate();\n    \n    const handleChangeGuestNumber = (e) => {\n        setGuestNumber(e.target.value);\n    };\n\n    const postReservation = (e) => {\n        PropertyService.addReservation(\n          propertyId,\n          currentUser.user._id,\n          startDate,\n          guestNumber,\n        )\n          .then(() => {\n            window.alert(\"New reservation has been created.\");\n            navigate(\"/reservation\");\n          })\n          .catch((error) => {\n            console.log(error.response);\n            setMessage(error.response.data);\n            window.alert(message);\n          });\n      };\n\n    return (\n        <div className=\"form-group\">\n            <DatePicker selected={startDate} onChange={(date) => setStartDate(date)} />\n            <input\n              name=\"guestNumber\"\n              type=\"text\"\n              className=\"form-control\"\n              id=\"guestNumber\"\n              onChange={handleChangeGuestNumber}\n            />\n            <button className=\"btn btn-secondary\" onClick={postReservation}>\n              Submit\n            </button>\n        </div>\n    );\n}\n\nexport default PostReservationComponent"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,kBAAkB;AACzC,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,4CAA4C;AAAC;AAEpD,MAAMC,wBAAwB,GAAIC,KAAK,IAAK;EAAA;EACxC,MAAM;IAACC;EAAK,CAAC,GAAGJ,WAAW,EAAE;EAC7B,MAAMK,UAAU,GAAGD,KAAK,CAACE,EAAE;EAC3B,IAAI;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGL,KAAK;EAC3C,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,IAAIc,IAAI,EAAE,CAAC;EAEtD,IAAI,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAClC,IAAI,CAACiB,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAChD,IAAI,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMqB,QAAQ,GAAGjB,WAAW,EAAE;EAE9B,MAAMkB,uBAAuB,GAAIC,CAAC,IAAK;IACnCL,cAAc,CAACK,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMC,eAAe,GAAIH,CAAC,IAAK;IAC3BrB,eAAe,CAACyB,cAAc,CAC5BnB,UAAU,EACVE,WAAW,CAACkB,IAAI,CAACC,GAAG,EACpBjB,SAAS,EACTK,WAAW,CACZ,CACEa,IAAI,CAAC,MAAM;MACVC,MAAM,CAACC,KAAK,CAAC,mCAAmC,CAAC;MACjDX,QAAQ,CAAC,cAAc,CAAC;IAC1B,CAAC,CAAC,CACDY,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,QAAQ,CAAC;MAC3BjB,UAAU,CAACc,KAAK,CAACG,QAAQ,CAACC,IAAI,CAAC;MAC/BP,MAAM,CAACC,KAAK,CAACb,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEH,oBACI;IAAK,SAAS,EAAC,YAAY;IAAA,wBACvB,QAAC,UAAU;MAAC,QAAQ,EAAEP,SAAU;MAAC,QAAQ,EAAGG,IAAI,IAAKF,YAAY,CAACE,IAAI;IAAE;MAAA;MAAA;MAAA;IAAA,QAAG,eAC3E;MACE,IAAI,EAAC,aAAa;MAClB,IAAI,EAAC,MAAM;MACX,SAAS,EAAC,cAAc;MACxB,EAAE,EAAC,aAAa;MAChB,QAAQ,EAAEO;IAAwB;MAAA;MAAA;MAAA;IAAA,QAClC,eACF;MAAQ,SAAS,EAAC,mBAAmB;MAAC,OAAO,EAAEI,eAAgB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAEtD;EAAA;IAAA;IAAA;IAAA;EAAA,QACP;AAEd,CAAC;AAAA,GAjDKrB,wBAAwB;EAAA,QACVF,WAAW,EASVC,WAAW;AAAA;AAAA,KAV1BC,wBAAwB;AAmD9B,eAAeA,wBAAwB;AAAA;AAAA"},"metadata":{},"sourceType":"module"}