{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api/properties\";\nclass PropertyService {\n  // // try to get all\n  getAll() {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/listing\", {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  //post new property\n  post(title, type, price, image, city, state, address, postalCode, description, amenities) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.post(API_URL, {\n      title,\n      type,\n      price,\n      image,\n      city,\n      state,\n      address,\n      postalCode,\n      description,\n      amenities\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // try to load edit page\n  getOne(id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/editproperty/\" + id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n  // get favorites , userID\n  getFavorites(_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/guest/\" + _id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n  // just try bad request!!!!!!!\n  removeFav(_id, user_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.patch(API_URL + \"/property/\" + _id, {\n      user_id\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // await axios.delete(API_URL + \"/property/\" + _id +`/{addFavBy}/${user_id}`)\n\n  addFav(_id, user_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.post(API_URL + \"/property/\" + _id, {\n      user_id\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  //get properties from specific host\n  get(_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/host/\" + _id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // editProperty(id){\n\n  // }\n\n  // reserve\n  addReservation(_id, user_id, date, guestNumber) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.post(API_URL + \"/reservation/\" + _id + \"/\" + user_id, {\n      date,\n      guestNumber\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // get reserve\n  getReservation(user_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/reservation/\" + user_id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // delete reservation\n  deleteReservation(_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.delete(API_URL + \"/reservation/\" + _id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // get property\n  getProperty(_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/property/\" + _id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n\n  // delete property\n  deleteProperty(_id) {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.delete(API_URL + \"/\" + _id, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }\n}\nexport default new PropertyService();","map":{"version":3,"names":["axios","API_URL","PropertyService","getAll","token","localStorage","getItem","JSON","parse","get","headers","Authorization","post","title","type","price","image","city","state","address","postalCode","description","amenities","getOne","id","getFavorites","_id","removeFav","user_id","patch","addFav","addReservation","date","guestNumber","getReservation","deleteReservation","delete","getProperty","deleteProperty"],"sources":["/Users/jeanchu/Documents/Aspace_web/aspace-app/src/services/property.service.js"],"sourcesContent":["import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api/properties\";\n\nclass PropertyService {\n  // // try to get all\n  getAll() {\n    let token;\n    if (localStorage.getItem(\"user\")) {\n      token = JSON.parse(localStorage.getItem(\"user\")).token;\n    } else {\n      token = \"\";\n    }\n    return axios.get(API_URL + \"/listing\", {\n      headers: {\n        Authorization: token,\n      },\n    });\n  }\n    \n    //post new property\n    post(title,\n        type,\n        price,\n        image,\n        city,\n        state,\n        address,\n        postalCode,\n        description,\n        amenities) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n    \n        return axios.post(\n          API_URL,\n          { title,\n            type,\n            price,\n            image,\n            city,\n            state,\n            address,\n            postalCode,\n            description,\n            amenities },\n          {\n            headers: {\n              Authorization: token,\n            },\n          }\n        );\n      }\n\n      // try to load edit page\n      getOne(id){\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.get(API_URL + \"/editproperty/\" + id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n   // get favorites , userID\n      getFavorites(_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n    \n        return axios.get(API_URL + \"/guest/\" + _id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n// just try bad request!!!!!!!\n      removeFav(_id, user_id){\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n      }\n\n        return axios.patch(\n          API_URL + \"/property/\" + _id,\n          { user_id },\n          {\n            headers: {\n              Authorization: token,\n            },\n          }\n        );\n      }\n\n      // await axios.delete(API_URL + \"/property/\" + _id +`/{addFavBy}/${user_id}`)\n\n      addFav(_id, user_id){\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n    \n        return axios.post(\n          API_URL + \"/property/\" + _id,\n          { user_id },\n          {\n            headers: {\n              Authorization: token,\n            },\n      }\n        );\n      }\n\n      //get properties from specific host\n      get(_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.get(API_URL + \"/host/\" + _id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n\n      // editProperty(id){\n\n      // }\n\n      // reserve\n      addReservation(_id, user_id, date, guestNumber){\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n    \n        return axios.post(\n          API_URL + \"/reservation/\" + _id + \"/\" + user_id,\n          { date,\n            guestNumber },\n          {\n            headers: {\n              Authorization: token,\n            },\n      }\n        );\n      }\n\n      // get reserve\n      getReservation(user_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.get(API_URL + \"/reservation/\" + user_id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n\n      // delete reservation\n      deleteReservation(_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.delete(API_URL + \"/reservation/\" + _id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n\n      // get property\n      getProperty(_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.get(API_URL + \"/property/\" + _id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n\n      // delete property\n      deleteProperty(_id) {\n        let token;\n        if (localStorage.getItem(\"user\")) {\n          token = JSON.parse(localStorage.getItem(\"user\")).token;\n        } else {\n          token = \"\";\n        }\n        return axios.delete(API_URL + \"/\" + _id, {\n          headers: {\n            Authorization: token,\n          },\n        });\n      }\n\n\n\n\n}\n\nexport default new PropertyService();\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,sCAAsC;AAEtD,MAAMC,eAAe,CAAC;EACpB;EACAC,MAAM,GAAG;IACP,IAAIC,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,UAAU,EAAE;MACrCS,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;;EAEE;EACAQ,IAAI,CAACC,KAAK,EACNC,IAAI,EACJC,KAAK,EACLC,KAAK,EACLC,IAAI,EACJC,KAAK,EACLC,OAAO,EACPC,UAAU,EACVC,WAAW,EACXC,SAAS,EAAE;IACX,IAAIlB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IAEA,OAAOJ,KAAK,CAACY,IAAI,CACfX,OAAO,EACP;MAAEY,KAAK;MACLC,IAAI;MACJC,KAAK;MACLC,KAAK;MACLC,IAAI;MACJC,KAAK;MACLC,OAAO;MACPC,UAAU;MACVC,WAAW;MACXC;IAAU,CAAC,EACb;MACEZ,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CACF;EACH;;EAEA;EACAmB,MAAM,CAACC,EAAE,EAAC;IACR,IAAIpB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,gBAAgB,GAAGuB,EAAE,EAAE;MAChDd,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;EACH;EACGqB,YAAY,CAACC,GAAG,EAAE;IAChB,IAAItB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IAEA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,SAAS,GAAGyB,GAAG,EAAE;MAC1ChB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;EACN;EACMuB,SAAS,CAACD,GAAG,EAAEE,OAAO,EAAC;IACrB,IAAIxB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACd;IAEE,OAAOJ,KAAK,CAAC6B,KAAK,CAChB5B,OAAO,GAAG,YAAY,GAAGyB,GAAG,EAC5B;MAAEE;IAAQ,CAAC,EACX;MACElB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CACF;EACH;;EAEA;;EAEA0B,MAAM,CAACJ,GAAG,EAAEE,OAAO,EAAC;IAClB,IAAIxB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IAEA,OAAOJ,KAAK,CAACY,IAAI,CACfX,OAAO,GAAG,YAAY,GAAGyB,GAAG,EAC5B;MAAEE;IAAQ,CAAC,EACX;MACElB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACN,CAAC,CACE;EACH;;EAEA;EACAK,GAAG,CAACiB,GAAG,EAAE;IACP,IAAItB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,QAAQ,GAAGyB,GAAG,EAAE;MACzChB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;;EAEA;;EAEA;;EAEA;EACA2B,cAAc,CAACL,GAAG,EAAEE,OAAO,EAAEI,IAAI,EAAEC,WAAW,EAAC;IAC7C,IAAI7B,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IAEA,OAAOJ,KAAK,CAACY,IAAI,CACfX,OAAO,GAAG,eAAe,GAAGyB,GAAG,GAAG,GAAG,GAAGE,OAAO,EAC/C;MAAEI,IAAI;MACJC;IAAY,CAAC,EACf;MACEvB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACN,CAAC,CACE;EACH;;EAEA;EACA8B,cAAc,CAACN,OAAO,EAAE;IACtB,IAAIxB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,eAAe,GAAG2B,OAAO,EAAE;MACpDlB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;;EAEA;EACA+B,iBAAiB,CAACT,GAAG,EAAE;IACrB,IAAItB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACoC,MAAM,CAACnC,OAAO,GAAG,eAAe,GAAGyB,GAAG,EAAE;MACnDhB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;;EAEA;EACAiC,WAAW,CAACX,GAAG,EAAE;IACf,IAAItB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACS,GAAG,CAACR,OAAO,GAAG,YAAY,GAAGyB,GAAG,EAAE;MAC7ChB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;;EAEA;EACAkC,cAAc,CAACZ,GAAG,EAAE;IAClB,IAAItB,KAAK;IACT,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;MAChCF,KAAK,GAAGG,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACF,KAAK;IACxD,CAAC,MAAM;MACLA,KAAK,GAAG,EAAE;IACZ;IACA,OAAOJ,KAAK,CAACoC,MAAM,CAACnC,OAAO,GAAG,GAAG,GAAGyB,GAAG,EAAE;MACvChB,OAAO,EAAE;QACPC,aAAa,EAAEP;MACjB;IACF,CAAC,CAAC;EACJ;AAKN;AAEA,eAAe,IAAIF,eAAe,EAAE"},"metadata":{},"sourceType":"module"}